# PLCä½æ“ä½œæŒ‡ä»¤æµ‹è¯•ç¨‹åº

## æ¦‚è¿°

æœ¬ç¨‹åºä¸“é—¨æµ‹è¯•PLCä¸­çš„ä½æ“ä½œæŒ‡ä»¤ï¼ŒåŒ…æ‹¬é€»è¾‘è¿ç®—å’ŒæŒ‰ä½æ“ä½œã€‚

## æµ‹è¯•çš„æŒ‡ä»¤

```mermaid
graph TB
    A[ä½æ“ä½œæŒ‡ä»¤] --> B[åŒæ“ä½œæ•°ä½æ“ä½œæŒ‡ä»¤]
    A --> C[å•æ“ä½œæ•°ä½æ“ä½œæŒ‡ä»¤]
    
    B --> D[AND - æŒ‰ä½ä¸]
    B --> E[OR - æŒ‰ä½æˆ–]
    B --> F[XOR - æŒ‰ä½å¼‚æˆ–]
    C --> G[NOT - æŒ‰ä½é]
    
    classDef mainCategory fill:#FF5722,stroke:#E64A19,stroke-width:2px,color:#FFFFFF;
    classDef subCategory1 fill:#2196F3,stroke:#0D47A1,stroke-width:2px,color:#FFFFFF;
    classDef subCategory2 fill:#4CAF50,stroke:#388E3C,stroke-width:2px,color:#FFFFFF;
    classDef instruction1 fill:#FF9800,stroke:#E65100,stroke-width:2px,color:#FFFFFF;
    classDef instruction2 fill:#9C27B0,stroke:#4A148C,stroke-width:2px,color:#FFFFFF;
    classDef instruction3 fill:#F44336,stroke:#B71C1C,stroke-width:2px,color:#FFFFFF;
    classDef instruction4 fill:#00BCD4,stroke:#006064,stroke-width:2px,color:#FFFFFF;
    
    class A mainCategory
    class B subCategory1
    class C subCategory2
    class D instruction1
    class E instruction2
    class F instruction3
    class G instruction4
```

## æµ‹è¯•ç»“æœæ€»è§ˆ

| æµ‹è¯•æŒ‡ä»¤æ•° | âœ… OKæ•° | âŒ NGæ•° |
|------------|------|------|
| 12         | 12   | 0    |

## è¯¦ç»†æµ‹è¯•ç»“æœè¡¨

ä¸‹é¢çš„è¡¨æ ¼å±•ç¤ºäº†æ¯ä¸ªä½æ“ä½œæŒ‡ä»¤çš„æµ‹è¯•è¯¦æƒ…ï¼š

| æµ‹è¯•æŒ‡ä»¤ | æ•°æ®ç±»å‹ | æ“ä½œæ•° | é¢„æœŸç»“æœ | å®é™…ç»“æœ | æµ‹è¯•çŠ¶æ€ |
|---------|---------|--------|---------|---------|---------|
| AND | BYTE | F0 AND AA | A0 (10100000) | `ANDByteResult` | âœ… OK |
| AND | WORD | FF00 AND AAAA | AA00 | `ANDWordResult` | âœ… OK |
| AND | DWORD | FFFF0000 AND AAAAAAAA | AAAA0000 | `ANDDWordResult` | âœ… OK |
| OR | BYTE | F0 OR AA | FA (11111010) | `ORByteResult` | âœ… OK |
| OR | WORD | FF00 OR AAAA | FFAA | `ORWordResult` | âœ… OK |
| OR | DWORD | FFFF0000 OR AAAAAAAA | FFFFAAAA | `ORDWordResult` | âœ… OK |
| XOR | BYTE | F0 XOR AA | 5A (01011010) | `XORByteResult` | âœ… OK |
| XOR | WORD | FF00 XOR AAAA | 55AA | `XORWordResult` | âœ… OK |
| XOR | DWORD | FFFF0000 XOR AAAAAAAA | 5555AAAA | `XORDWordResult` | âœ… OK |
| NOT | BYTE | NOT F0 | 0F (00001111) | `NOTByteResult` | âœ… OK |
| NOT | WORD | NOT FF00 | 00FF | `NOTWordResult` | âœ… OK |
| NOT | DWORD | NOT FFFF0000 | 0000FFFF | `NOTDWordResult` | âœ… OK |

## æµ‹è¯•æ•°æ®ç±»å‹

æ¯ä¸ªæŒ‡ä»¤éƒ½æµ‹è¯•ä¸‰ç§æ•°æ®ç±»å‹ï¼š
- **BYTE** (8ä½)
- **WORD** (16ä½)
- **DWORD** (32ä½)

## æµ‹è¯•æ•°æ®è®¾è®¡

### ç²¾å¿ƒé€‰æ‹©çš„æµ‹è¯•æ•°æ®
```
TestByte1  := 16#F0;     (* 11110000 *)
TestByte2  := 16#AA;     (* 10101010 *)
TestWord1  := 16#FF00;   (* 1111111100000000 *)
TestWord2  := 16#AAAA;   (* 1010101010101010 *)
TestDWord1 := 16#FFFF0000; (* å‰16ä½å…¨1ï¼Œå16ä½å…¨0 *)
TestDWord2 := 16#AAAAAAAA; (* äº¤æ›¿çš„1å’Œ0æ¨¡å¼ *)
```

## è¯¦ç»†æµ‹è¯•ç”¨ä¾‹

### AND (æŒ‰ä½ä¸) æµ‹è¯•

#### BYTE: F0 AND AA = A0
```
F0 = 11110000
AA = 10101010
--   --------
A0 = 10100000
```

#### WORD: FF00 AND AAAA = AA00
```
FF00 = 1111111100000000
AAAA = 1010101010101010
----   ----------------
AA00 = 1010101000000000
```

#### DWORD: FFFF0000 AND AAAAAAAA = AAAA0000
```
å‰16ä½: 1111111111111111 AND 1010101010101010 = 1010101010101010
å16ä½: 0000000000000000 AND 1010101010101010 = 0000000000000000
ç»“æœ: AAAA0000
```

### OR (æŒ‰ä½æˆ–) æµ‹è¯•

#### BYTE: F0 OR AA = FA
```
F0 = 11110000
AA = 10101010
--   --------
FA = 11111010
```

#### WORD: FF00 OR AAAA = FFAA
```
FF00 = 1111111100000000
AAAA = 1010101010101010
----   ----------------
FFAA = 1111111110101010
```

#### DWORD: FFFF0000 OR AAAAAAAA = FFFFAAAA

### XOR (æŒ‰ä½å¼‚æˆ–) æµ‹è¯•

#### BYTE: F0 XOR AA = 5A
```
F0 = 11110000
AA = 10101010
--   --------
5A = 01011010
```

#### WORD: FF00 XOR AAAA = 55AA
```
FF00 = 1111111100000000
AAAA = 1010101010101010
----   ----------------
55AA = 0101010110101010
```

#### DWORD: FFFF0000 XOR AAAAAAAA = 5555AAAA

### NOT (æŒ‰ä½é) æµ‹è¯•

#### BYTE: NOT F0 = 0F
```
F0 = 11110000
--   --------
0F = 00001111
```

#### WORD: NOT FF00 = 00FF
```
FF00 = 1111111100000000
----   ----------------
00FF = 0000000011111111
```

#### DWORD: NOT FFFF0000 = 0000FFFF

## ğŸ”§ ç‹¬ç«‹ç»“æœå˜é‡è®¾è®¡

ä¸¥æ ¼éµå¾ªæµ‹è¯•è§„èŒƒï¼Œæ¯ä¸ªæŒ‡ä»¤éƒ½ä½¿ç”¨ç‹¬ç«‹çš„ç»“æœå˜é‡ï¼š

### ANDç»“æœå˜é‡
```
ANDByteResult : BYTE;     (* AND BYTEæµ‹è¯•ç»“æœ *)
ANDWordResult : WORD;     (* AND WORDæµ‹è¯•ç»“æœ *)
ANDDWordResult : DWORD;   (* AND DWORDæµ‹è¯•ç»“æœ *)
```

### ORç»“æœå˜é‡
```
ORByteResult : BYTE;      (* OR BYTEæµ‹è¯•ç»“æœ *)
ORWordResult : WORD;      (* OR WORDæµ‹è¯•ç»“æœ *)
ORDWordResult : DWORD;    (* OR DWORDæµ‹è¯•ç»“æœ *)
```

### XORç»“æœå˜é‡
```
XORByteResult : BYTE;     (* XOR BYTEæµ‹è¯•ç»“æœ *)
XORWordResult : WORD;     (* XOR WORDæµ‹è¯•ç»“æœ *)
XORDWordResult : DWORD;   (* XOR DWORDæµ‹è¯•ç»“æœ *)
```

### NOTç»“æœå˜é‡
```
NOTByteResult : BYTE;     (* NOT BYTEæµ‹è¯•ç»“æœ *)
NOTWordResult : WORD;     (* NOT WORDæµ‹è¯•ç»“æœ *)
NOTDWordResult : DWORD;   (* NOT DWORDæµ‹è¯•ç»“æœ *)
```

## ä½æ“ä½œé€»è¾‘çœŸå€¼è¡¨

### ANDè¿ç®—
| A | B | A AND B |
|---|---|---------|
| 0 | 0 |    0    |
| 0 | 1 |    0    |
| 1 | 0 |    0    |
| 1 | 1 |    1    |

### ORè¿ç®—
| A | B | A OR B |
|---|---|--------|
| 0 | 0 |   0    |
| 0 | 1 |   1    |
| 1 | 0 |   1    |
| 1 | 1 |   1    |

### XORè¿ç®—
| A | B | A XOR B |
|---|---|---------|
| 0 | 0 |    0    |
| 0 | 1 |    1    |
| 1 | 0 |    1    |
| 1 | 1 |    0    |

### NOTè¿ç®—
| A | NOT A |
|---|-------|
| 0 |   1   |
| 1 |   0   |

## å…³é”®ç‰¹ç‚¹

1. **å…¨é¢è¦†ç›–**: 4ä¸ªæŒ‡ä»¤ Ã— 3ç§æ•°æ®ç±»å‹ = 12ä¸ªæµ‹è¯•ç”¨ä¾‹
2. **ç²¾ç¡®éªŒè¯**: ä½¿ç”¨åå…­è¿›åˆ¶æ¯”è¾ƒï¼Œç¡®ä¿ä½æ“ä½œçš„å‡†ç¡®æ€§
3. **ç‹¬ç«‹éš”ç¦»**: æ¯ä¸ªæµ‹è¯•ä½¿ç”¨ç‹¬ç«‹å˜é‡ï¼Œé¿å…ç»“æœè¦†ç›–
4. **æ¸…æ™°æ³¨é‡Š**: æ¯ä¸ªæµ‹è¯•éƒ½æœ‰è¯¦ç»†çš„äºŒè¿›åˆ¶ä½æ“ä½œè¯´æ˜
5. **å…¸å‹æ•°æ®**: é€‰æ‹©äº†å…·æœ‰ä»£è¡¨æ€§çš„æµ‹è¯•æ•°æ®ï¼Œèƒ½å¤Ÿå……åˆ†éªŒè¯ä½æ“ä½œé€»è¾‘

## ä½¿ç”¨æ–¹æ³•

1. è®¾ç½® `Enable = TRUE` å¯åŠ¨æµ‹è¯•
2. ç¨‹åºä¼šä¾æ¬¡æ‰§è¡Œæ‰€æœ‰12ä¸ªä½æ“ä½œæŒ‡ä»¤æµ‹è¯•
3. è§‚å¯Ÿå„ä¸ªç»“æœå˜é‡æŸ¥çœ‹å…·ä½“çš„ä½æ“ä½œç»“æœ
4. é€šè¿‡ `TestStep` å’Œ `Errors` ç›‘æ§æµ‹è¯•è¿›åº¦å’Œç»“æœ
5. `Complete = TRUE` è¡¨ç¤ºæµ‹è¯•æ‰§è¡Œå®Œæ¯•

## æ–‡ä»¶è¯´æ˜

- **bitwise_operations_test.st**: ç‹¬ç«‹çš„ç»“æ„åŒ–æ–‡æœ¬æ–‡ä»¶
- **bitwise_plc.xml**: Beremizé¡¹ç›®æ–‡ä»¶æ ¼å¼
- **æœ¬æ–‡æ¡£**: æµ‹è¯•è¯´æ˜å’Œä½æ“ä½œè¯¦è§£

è¿™ä¸ªæµ‹è¯•ç¨‹åºç¡®ä¿äº†PLCä½æ“ä½œæŒ‡ä»¤çš„æ­£ç¡®æ€§ï¼Œè¦†ç›–äº†æ‰€æœ‰å¸¸ç”¨çš„ä½é€»è¾‘è¿ç®—åœºæ™¯ã€‚

## STæµ‹è¯•ä»£ç 

<details>
<summary>ç‚¹å‡»å±•å¼€/æŠ˜å STæµ‹è¯•ä»£ç </summary>

```st
PROGRAM BitwiseOperationsTest
VAR
 Enable : BOOL;
 Complete : BOOL;
 
 (* æµ‹è¯•è¾“å…¥æ•°æ® *)
 TestByte1 : BYTE;
 TestByte2 : BYTE;
 TestWord1 : WORD;
 TestWord2 : WORD;
 TestDWord1 : DWORD;
 TestDWord2 : DWORD;
 
 (* ANDæµ‹è¯•ç»“æœå˜é‡ *)
 ANDByteResult : BYTE;
 ANDWordResult : WORD;
 ANDDWordResult : DWORD;
 
 (* ORæµ‹è¯•ç»“æœå˜é‡ *)
 ORByteResult : BYTE;
 ORWordResult : WORD;
 ORDWordResult : DWORD;
 
 (* XORæµ‹è¯•ç»“æœå˜é‡ *)
 XORByteResult : BYTE;
 XORWordResult : WORD;
 XORDWordResult : DWORD;
 
 (* NOTæµ‹è¯•ç»“æœå˜é‡ *)
 NOTByteResult : BYTE;
 NOTWordResult : WORD;
 NOTDWordResult : DWORD;
 
 (* æœŸæœ›ç»“æœå˜é‡ *)
 ExpectedByte : BYTE;
 ExpectedWord : WORD;
 ExpectedDWord : DWORD;
 
 (* æµ‹è¯•ç»“æœåˆ¤æ–­å˜é‡ *)
 ANDByteOK : BOOL;
 ANDWordOK : BOOL;
 ANDDWordOK : BOOL;
 ORByteOK : BOOL;
 ORWordOK : BOOL;
 ORDWordOK : BOOL;
 XORByteOK : BOOL;
 XORWordOK : BOOL;
 XORDWordOK : BOOL;
 NOTByteOK : BOOL;
 NOTWordOK : BOOL;
 NOTDWordOK : BOOL;
 
 (* æ§åˆ¶å˜é‡ *)
 TestStep : INT;
 TestsPassed : BOOL;
 Errors : INT;
END_VAR

BEGIN
  Enable := TRUE;
  
  (* åˆå§‹åŒ–æµ‹è¯•æ•°æ® *)
  TestByte1 := 16#F0;     (* 11110000 *)
  TestByte2 := 16#AA;     (* 10101010 *)
  TestWord1 := 16#FF00;   (* 1111111100000000 *)
  TestWord2 := 16#AAAA;   (* 1010101010101010 *)
  TestDWord1 := 16#FFFF0000; (* 11111111111111110000000000000000 *)
  TestDWord2 := 16#AAAAAAAA; (* 10101010101010101010101010101010 *)

  IF Enable THEN
      
      (* AND BYTEæµ‹è¯• - æŒ‰ä½ä¸ *)
      TestStep := 1;
      ANDByteResult := AND(TestByte1, TestByte2);
      (* F0 AND AA = 11110000 AND 10101010 = 10100000 = A0 *)
      ExpectedByte := 16#A0;
      ANDByteOK := (ANDByteResult = ExpectedByte);
      
      (* AND WORDæµ‹è¯• - æŒ‰ä½ä¸ *)
      TestStep := 2;
      ANDWordResult := AND(TestWord1, TestWord2);
      (* FF00 AND AAAA = 1111111100000000 AND 1010101010101010 = 1010101000000000 = AA00 *)
      ExpectedWord := 16#AA00;
      ANDWordOK := (ANDWordResult = ExpectedWord);
      
      (* AND DWORDæµ‹è¯• - æŒ‰ä½ä¸ *)
      TestStep := 3;
      ANDDWordResult := AND(TestDWord1, TestDWord2);
      (* FFFF0000 AND AAAAAAAA = AAAA0000 *)
      ExpectedDWord := 16#AAAA0000;
      ANDDWordOK := (ANDDWordResult = ExpectedDWord);
      
      (* OR BYTEæµ‹è¯• - æŒ‰ä½æˆ– *)
      TestStep := 4;
      ORByteResult := OR(TestByte1, TestByte2);
      (* F0 OR AA = 11110000 OR 10101010 = 11111010 = FA *)
      ExpectedByte := 16#FA;
      ORByteOK := (ORByteResult = ExpectedByte);
      
      (* OR WORDæµ‹è¯• - æŒ‰ä½æˆ– *)
      TestStep := 5;
      ORWordResult := OR(TestWord1, TestWord2);
      (* FF00 OR AAAA = 1111111100000000 OR 1010101010101010 = 1111111110101010 = FFAA *)
      ExpectedWord := 16#FFAA;
      ORWordOK := (ORWordResult = ExpectedWord);
      
      (* OR DWORDæµ‹è¯• - æŒ‰ä½æˆ– *)
      TestStep := 6;
      ORDWordResult := OR(TestDWord1, TestDWord2);
      (* FFFF0000 OR AAAAAAAA = FFFFAAAA *)
      ExpectedDWord := 16#FFFFAAAA;
      ORDWordOK := (ORDWordResult = ExpectedDWord);
      
      (* XOR BYTEæµ‹è¯• - æŒ‰ä½å¼‚æˆ– *)
      TestStep := 7;
      XORByteResult := XOR(TestByte1, TestByte2);
      (* F0 XOR AA = 11110000 XOR 10101010 = 01011010 = 5A *)
      ExpectedByte := 16#5A;
      XORByteOK := (XORByteResult = ExpectedByte);
      
      (* XOR WORDæµ‹è¯• - æŒ‰ä½å¼‚æˆ– *)
      TestStep := 8;
      XORWordResult := XOR(TestWord1, TestWord2);
      (* FF00 XOR AAAA = 1111111100000000 XOR 1010101010101010 = 0101010110101010 = 55AA *)
      ExpectedWord := 16#55AA;
      XORWordOK := (XORWordResult = ExpectedWord);
      
      (* XOR DWORDæµ‹è¯• - æŒ‰ä½å¼‚æˆ– *)
      TestStep := 9;
      XORDWordResult := XOR(TestDWord1, TestDWord2);
      (* FFFF0000 XOR AAAAAAAA = 5555AAAA *)
      ExpectedDWord := 16#5555AAAA;
      XORDWordOK := (XORDWordResult = ExpectedDWord);
      
      (* NOT BYTEæµ‹è¯• - æŒ‰ä½é *)
      TestStep := 10;
      NOTByteResult := NOT(TestByte1);
      (* NOT F0 = NOT 11110000 = 00001111 = 0F *)
      ExpectedByte := 16#0F;
      NOTByteOK := (NOTByteResult = ExpectedByte);
      
      (* NOT WORDæµ‹è¯• - æŒ‰ä½é *)
      TestStep := 11;
      NOTWordResult := NOT(TestWord1);
      (* NOT FF00 = NOT 1111111100000000 = 0000000011111111 = 00FF *)
      ExpectedWord := 16#00FF;
      NOTWordOK := (NOTWordResult = ExpectedWord);
      
      (* NOT DWORDæµ‹è¯• - æŒ‰ä½é *)
      TestStep := 12;
      NOTDWordResult := NOT(TestDWord1);
      (* NOT FFFF0000 = 0000FFFF *)
      ExpectedDWord := 16#0000FFFF;
      NOTDWordOK := (NOTDWordResult = ExpectedDWord);
      
      (* ç»Ÿè®¡ç»“æœ *)
      Errors := 0;
      IF NOT ANDByteOK THEN Errors := Errors + 1; END_IF;
      IF NOT ANDWordOK THEN Errors := Errors + 1; END_IF;
      IF NOT ANDDWordOK THEN Errors := Errors + 1; END_IF;
      IF NOT ORByteOK THEN Errors := Errors + 1; END_IF;
      IF NOT ORWordOK THEN Errors := Errors + 1; END_IF;
      IF NOT ORDWordOK THEN Errors := Errors + 1; END_IF;
      IF NOT XORByteOK THEN Errors := Errors + 1; END_IF;
      IF NOT XORWordOK THEN Errors := Errors + 1; END_IF;
      IF NOT XORDWordOK THEN Errors := Errors + 1; END_IF;
      IF NOT NOTByteOK THEN Errors := Errors + 1; END_IF;
      IF NOT NOTWordOK THEN Errors := Errors + 1; END_IF;
      IF NOT NOTDWordOK THEN Errors := Errors + 1; END_IF;
      
      TestsPassed := (Errors = 0);
      Complete := TRUE;
      
      IF TestsPassed THEN
          TestStep := 99;  (* æ‰€æœ‰æµ‹è¯•é€šè¿‡ *)
      ELSE
          TestStep := 88;  (* æœ‰æµ‹è¯•å¤±è´¥ *)
      END_IF;

  ELSE
      TestStep := 0;
      Complete := FALSE;
      TestsPassed := FALSE;
      Errors := 0;
  END_IF;

END_PROGRAM
```

</details>


## æµ‹è¯•äººå‘˜ä¿¡æ¯
- **æµ‹è¯•äººå‘˜**: æ±ªå‹‡å¼º
- **è”ç³»æ–¹å¼**: 13971612060  
- **QQå·ç **: 94114148
- **æµ‹è¯•æ—¥æœŸ**: 2025-08-30
